{% extends 'base.html' %}
{% block title %}Dashboard{% endblock %}

{% block content %}
<div class="min-w-full min-h-screen bg-gradient-to-br from-blue-50 via-white to-gray-50 py-12 px-4 sm:px-6 lg:px-8">
    <div class="max-w-7xl mx-auto mb-6">
        <h1 class="text-4xl font-extrabold text-gray-800 mb-2">Painel de Vendas</h1>
        <p class="text-gray-600">Visualize e filtre os carros cadastrados.</p>
    </div>

    <!-- Filters -->
    <div class="max-w-7xl mx-auto mb-8">
        <form method="GET" class="flex flex-wrap gap-4 items-center">
            <select name="make" class="border rounded px-3 py-2 shadow-sm focus:ring-1 focus:ring-blue-400">
                <option value="">Todas as marcas</option>
                {% for make in makes %}
                <option value="{{ make }}" {% if make == selected_make %}selected{% endif %}>{{ make }}</option>
                {% endfor %}
            </select>

            <select name="model" class="border rounded px-3 py-2 shadow-sm focus:ring-1 focus:ring-blue-400">
                <option value="">Todos os modelos</option>
                {% for model in models %}
                <option value="{{ model }}" {% if model == selected_model %}selected{% endif %}>{{ model }}</option>
                {% endfor %}
            </select>

            <select name="local" class="border rounded px-3 py-2 shadow-sm focus:ring-1 focus:ring-blue-400">
                <option value="">Todas as cidades</option>
                {% for local in locals %}
                <option value="{{ local }}" {% if local|stringformat:"s" == selected_local %}selected{% endif %}>{{ local }}</option>
                {% endfor %}
            </select>

            <button type="submit" class="px-5 py-2 bg-blue-500 text-white rounded-lg shadow hover:bg-blue-600 transition">Filtrar</button>
            <a href="{% url 'dashboard' %}" class="px-5 py-2 bg-gray-300 text-gray-700 rounded-lg shadow hover:bg-gray-400 transition">Resetar</a>
        </form>
    </div>

    <!-- Cards Container -->
    <div class="max-w-7xl mx-auto grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
        {% for car in cars %}
        <div class="bg-white rounded-2xl shadow-xl border border-gray-200 overflow-hidden hover:shadow-2xl transition duration-300">
            <!-- Header -->
            <div class="bg-gradient-to-r from-blue-500 to-blue-600 p-4">
                <h2 class="text-xl font-bold text-white">Cliente: {{ car.name }}</h2>
                <p class="text-md text-blue-100">{{ car.local }}</p>
            </div>

            <!-- Body -->
            <div class="p-4 space-y-4">
                <!-- Make, Model, Year -->
                <p class="text-lg font-bold text-gray-800">
                    {{ car.make }} {{ car.model }} - {{ car.year }}
                </p>

                <!-- Details -->
                <div>
                    <p class="font-semibold text-gray-800 mb-1">Detalhes:</p>
                    <p class="text-gray-700">{{ car.details }}</p>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>

    <!-- No Cars Message -->
    {% if not cars %}
    <div class="text-center py-16">
        <svg class="mx-auto h-20 w-20 text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17v-6h6v6m2 0h2a2 2 0 002-2v-4a2 2 0 00-2-2h-2a2 2 0 00-2 2v4a2 2 0 01-2 2zM7 17H5a2 2 0 01-2-2v-4a2 2 0 012-2h2a2 2 0 012 2v4a2 2 0 01-2 2z"/>
        </svg>
        <p class="mt-4 text-gray-500 text-lg">Nenhum carro encontrado.</p>
    </div>
    {% endif %}
</div>
{% endblock %}
